{% extends "layout.html" %}

{% block content %}
<br>

<div class="container">

<form class="form-horizontal" id="jjb_data">
  <!-- form start-->

  <!-- DFG input start -->
  <div class="form-group center-block">
    <label class="col-sm-4 col-md-4 control-label" for="exampleInput">DFG</label>
    <div class="col-sm-3">
      <input type="text" id="dfg_input" class="form-control">
    </div>
  </div>
  <!-- DFG input end -->

  <!-- component input start -->
  <div class="form-group center-block">
    <label class="col-sm-4 col-md-4 control-label" for="exampleInput">Component</label>
    <div class="col-sm-3">
      <input type="text" id="component_input" class="form-control">
    </div>
  </div>
  <!-- component input end -->

  <!-- tester input start -->
  <div class="form-group center-block">
    <label class="col-sm-4 col-md-4 control-label" for="exampleInput">Tester</label>
    <div class="col-sm-3">
      <input type="text" id="tester_input" class="form-control">
    </div>
  </div>
  <!-- tester input end -->

  <!-- button start -->
  <div class="form-group">
    <div class="col-sm-offset-5 col-sm-5">
      <button type="button" class="btn btn-primary" id="generate">Generate</button>
    </div>
  </div>
  <!-- button end -->

  <!-- form end-->
</form>

<div class='printchatbox' id='printchatbox'></div>

    <div style="display:none;" id="output_div" class="container">
		  <h2>Jenkins Job Definition</h2>
		  <div class="alert alert-info">
			  <pre id="output"></pre>
		  </div>
	  </div>

</div>

<script>

$(function() {
	$('button#generate').click(function(){
		$.ajax({
      url: "{{ url_for('add_job.generate_jjb') }}",
      data: $('#dfg_input'),
			type: 'POST',
			success: function(response){
         $("#output_div").show();
         $("#output").text(response.output);
			},
			error: function(error){
				console.log(error);
			}
		});
	});
});

</script>

{% endblock %}
